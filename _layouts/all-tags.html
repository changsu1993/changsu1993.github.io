---
layout: page
---

<!-- 태그 검색 입력창 -->
<div class="mb-4">
  <input
    type="text"
    id="tag-search"
    class="form-control"
    placeholder="태그 검색..."
    style="max-width: 300px; padding: 10px 15px; border-radius: 8px;"
  >
</div>

<!-- 상단 태그 버튼들 -->
<div id="tags" class="d-flex flex-wrap mb-5" style="gap: 10px;">
  {% assign tags = '' | split: '' %}
  {% for t in site.tags %}
    {% assign tags = tags | push: t[0] %}
  {% endfor %}

  {% assign sorted_tags = tags | sort_natural %}

  {% for t in sorted_tags %}
    <a href="#{{ t | slugify }}-list"
       class="tag-btn"
       data-tag="{{ t | downcase }}">
      {{ t }}
    </a>
  {% endfor %}
</div>

<hr class="mb-5">

<!-- 태그별 포스트 목록 -->
<div id="tag-sections">
{% for t in sorted_tags %}
  {% assign posts = site.tags[t] %}
  <div id="{{ t | slugify }}-list" class="tag-section mb-5" data-tag="{{ t | downcase }}">
    <h4 class="mb-3">
      <a href="{{ t | slugify | url_encode | prepend: '/tags/' | append: '/' | relative_url }}" style="color: inherit; text-decoration: none;">
        {{ t }} ({{ posts.size }})
      </a>
    </h4>
    <ul class="list-unstyled ps-3">
      {% for post in posts %}
        <li class="mb-2">
          <span class="me-2" style="color: #6c757d;">▸</span>
          <a href="{{ post.url | relative_url }}" style="text-decoration: none;">{{ post.title }}</a>
          <span class="text-muted ms-2">- {{ post.date | date: "%Y/%m/%d" }}</span>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endfor %}
</div>

<style>
  .tag-btn {
    display: inline-block;
    padding: 8px 16px;
    border: 1px solid #0d6efd;
    border-radius: 6px;
    color: #0d6efd;
    text-decoration: none;
    font-size: 0.9rem;
    transition: all 0.2s ease;
    background: transparent;
  }

  .tag-btn:hover {
    background-color: #0d6efd;
    color: white;
  }

  .tag-btn.hidden {
    display: none;
  }

  .tag-section.hidden {
    display: none;
  }

  #tag-search {
    border: 1px solid #dee2e6;
  }

  #tag-search:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
    outline: none;
  }

  [data-mode="dark"] .tag-btn {
    border-color: #6ea8fe;
    color: #6ea8fe;
  }

  [data-mode="dark"] .tag-btn:hover {
    background-color: #6ea8fe;
    color: #000;
  }

  [data-mode="dark"] #tag-search {
    background-color: #2c2c2c;
    border-color: #444;
    color: #fff;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('tag-search');
  const tagButtons = document.querySelectorAll('.tag-btn');
  const tagSections = document.querySelectorAll('.tag-section');

  searchInput.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase().trim();

    // 태그 버튼 필터링
    tagButtons.forEach(function(btn) {
      const tagName = btn.getAttribute('data-tag');
      if (searchTerm === '' || tagName.includes(searchTerm)) {
        btn.classList.remove('hidden');
      } else {
        btn.classList.add('hidden');
      }
    });

    // 태그 섹션 필터링
    tagSections.forEach(function(section) {
      const tagName = section.getAttribute('data-tag');
      if (searchTerm === '' || tagName.includes(searchTerm)) {
        section.classList.remove('hidden');
      } else {
        section.classList.add('hidden');
      }
    });
  });
});
</script>
