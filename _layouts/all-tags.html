---
layout: page
---

<!-- 태그 검색 입력창 -->
<div class="tag-search-wrapper mb-3">
  <input
    type="text"
    id="tag-search"
    placeholder="태그 검색..."
    autocomplete="off"
  >
</div>

<!-- 검색 결과 카운트 -->
<p id="tag-count" class="text-muted mb-4">
  <span id="visible-count">{{ site.tags.size }}</span> 개의 태그가 있습니다.
</p>

<!-- 상단 태그 버튼들 -->
<div id="tags" class="tag-list mb-5">
  {% assign tags = '' | split: '' %}
  {% for t in site.tags %}
    {% assign tags = tags | push: t[0] %}
  {% endfor %}

  {% assign sorted_tags = tags | sort_natural %}

  {% for t in sorted_tags %}
    <a href="#{{ t | slugify }}-list"
       class="tag-item"
       data-tag="{{ t | downcase }}">
      {{ t }}
    </a>
  {% endfor %}
</div>

<hr class="my-4">

<!-- 태그별 포스트 목록 -->
<div id="tag-sections">
{% for t in sorted_tags %}
  {% assign posts = site.tags[t] %}
  <div id="{{ t | slugify }}-list" class="tag-section" data-tag="{{ t | downcase }}">
    <h4 class="tag-section-title">
      <a href="{{ t | slugify | url_encode | prepend: '/tags/' | append: '/' | relative_url }}">
        {{ t }} ({{ posts.size }})
      </a>
    </h4>
    <ul class="post-list">
      {% for post in posts %}
        <li>
          <span class="arrow">▸</span>
          <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          <span class="date">- {{ post.date | date: "%Y/%m/%d" }}</span>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endfor %}
</div>

<style>
  /* 검색창 */
  .tag-search-wrapper {
    max-width: 250px;
  }

  #tag-search {
    width: 100%;
    padding: 8px 12px;
    font-size: 14px;
    border: 1px solid #ddd;
    border-radius: 4px;
    outline: none;
    transition: border-color 0.2s;
  }

  #tag-search:focus {
    border-color: #007bff;
  }

  /* 태그 목록 */
  .tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding-bottom: 2px;
  }

  .tag-item {
    display: inline-block;
    padding: 6px 14px;
    font-size: 14px;
    color: #007bff;
    background: transparent;
    border: 1px solid #007bff !important;
    border-radius: 4px;
    text-decoration: none;
    transition: all 0.15s ease;
  }

  .tag-item:hover {
    background: #007bff;
    color: #fff;
    text-decoration: none;
  }

  .tag-item.hidden {
    display: none;
  }

  /* 태그 섹션 */
  .tag-section {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #e9ecef;
  }

  .tag-section.hidden {
    display: none;
  }

  .tag-section-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.8rem;
  }

  .tag-section-title a {
    color: inherit;
    text-decoration: none !important;
    border-bottom: none !important;
  }

  .tag-section-title a:hover {
    color: #007bff;
    border-bottom: 1px solid #007bff !important;
  }

  /* 포스트 목록 */
  .post-list {
    list-style: none;
    padding-left: 1rem;
    margin: 0;
    color: #333;
  }

  .post-list li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
  }

  .post-list .arrow {
    color: #999;
    margin-right: 0.5rem;
  }

  .post-list a {
    text-decoration: none !important;
    border-bottom: none !important;
    color: inherit !important;
  }

  .post-list a:hover {
    color: #007bff !important;
    border-bottom: 1px solid #007bff !important;
  }

  .post-list .date {
    color: #999;
    font-size: 0.9em;
    margin-left: 0.3rem;
  }

  /* 다크모드 */
  html[data-mode="dark"] #tag-search {
    background: #1e1e1e;
    border-color: #444;
    color: #e0e0e0;
  }

  html[data-mode="dark"] #tag-search:focus {
    border-color: #6ea8fe;
  }

  html[data-mode="dark"] .tag-item {
    color: #6ea8fe;
    border: 1px solid #6ea8fe !important;
  }

  html[data-mode="dark"] .tag-item:hover {
    background: #6ea8fe;
    color: #000;
  }

  html[data-mode="dark"] .tag-section {
    border-bottom-color: #444;
  }

  html[data-mode="dark"] .tag-section-title a:hover {
    border-bottom-color: #6ea8fe !important;
  }

  html[data-mode="dark"] #tag-sections .post-list {
    color: #ccc;
  }

  html[data-mode="dark"] #tag-sections .post-list a:hover {
    color: #6ea8fe !important;
    border-bottom-color: #6ea8fe !important;
  }
</style>

<script>
(function() {
  const searchInput = document.getElementById('tag-search');
  const tagItems = document.querySelectorAll('.tag-item');
  const tagSections = document.querySelectorAll('.tag-section');
  const visibleCount = document.getElementById('visible-count');
  const totalTags = tagItems.length;

  function filterTags() {
    const query = searchInput.value.toLowerCase().trim();
    let count = 0;

    tagItems.forEach(function(item) {
      const tagName = item.getAttribute('data-tag');
      const match = query === '' || tagName.indexOf(query) !== -1;

      if (match) {
        item.classList.remove('hidden');
        count++;
      } else {
        item.classList.add('hidden');
      }
    });

    tagSections.forEach(function(section) {
      const tagName = section.getAttribute('data-tag');
      const match = query === '' || tagName.indexOf(query) !== -1;

      if (match) {
        section.classList.remove('hidden');
      } else {
        section.classList.add('hidden');
      }
    });

    visibleCount.textContent = count;
  }

  searchInput.addEventListener('input', filterTags);
  searchInput.addEventListener('keyup', filterTags);
})();
</script>
